<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    #clock {}
  </style>
</head>

<body>
  <canvas id="clock" width="400" height="400">
    你的浏览器版本落后，请尝试用谷歌浏览器
  </canvas>
</body>
<script>
  window.onload = e => {
    draw();
    // window.requestAnimationFrame(draw);
    // console.log(1111111)

  }
//   function clock(){
//   var now = new Date();
//   var ctx = document.getElementById('clock').getContext('2d');
//   ctx.save();
//   ctx.clearRect(0,0,150,150);
//   ctx.translate(75,75);
//   ctx.scale(0.4,0.4);
//   ctx.rotate(-Math.PI/2);
//   ctx.strokeStyle = "black";
//   ctx.fillStyle = "white";
//   ctx.lineWidth = 8;
//   ctx.lineCap = "round";

//   // Hour marks
//   ctx.save();
//   for (var i=0;i<12;i++){
//     ctx.beginPath();
//     ctx.rotate(Math.PI/6);
//     ctx.moveTo(100,0);
//     ctx.lineTo(120,0);
//     ctx.stroke();
//   }
//   ctx.restore();

//   // Minute marks
//   ctx.save();
//   ctx.lineWidth = 5;
//   for (i=0;i<60;i++){
//     if (i%5!=0) {
//       ctx.beginPath();
//       ctx.moveTo(117,0);
//       ctx.lineTo(120,0);
//       ctx.stroke();
//     }
//     ctx.rotate(Math.PI/30);
//   }
//   ctx.restore();

//   var sec = now.getSeconds();
//   var min = now.getMinutes();
//   var hr  = now.getHours();
//   hr = hr>=12 ? hr-12 : hr;

//   ctx.fillStyle = "black";

//   // write Hours
//   ctx.save();
//   ctx.rotate( hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec )
//   ctx.lineWidth = 14;
//   ctx.beginPath();
//   ctx.moveTo(-20,0);
//   ctx.lineTo(80,0);
//   ctx.stroke();
//   ctx.restore();

//   // write Minutes
//   ctx.save();
//   ctx.rotate( (Math.PI/30)*min + (Math.PI/1800)*sec )
//   ctx.lineWidth = 10;
//   ctx.beginPath();
//   ctx.moveTo(-28,0);
//   ctx.lineTo(112,0);
//   ctx.stroke();
//   ctx.restore();

//   // Write seconds
//   ctx.save();
//   ctx.rotate(sec * Math.PI/30);
//   ctx.strokeStyle = "#D40000";
//   ctx.fillStyle = "#D40000";
//   ctx.lineWidth = 6;
//   ctx.beginPath();
//   ctx.moveTo(-30,0);
//   ctx.lineTo(83,0);
//   ctx.stroke();
//   ctx.beginPath();
//   ctx.arc(0,0,10,0,Math.PI*2,true);
//   ctx.fill();
//   ctx.beginPath();
//   ctx.arc(95,0,10,0,Math.PI*2,true);
//   ctx.stroke();
//   ctx.fillStyle = "rgba(0,0,0,0)";
//   ctx.arc(0,0,3,0,Math.PI*2,true);
//   ctx.fill();
//   ctx.restore();

//   ctx.beginPath();
//   ctx.lineWidth = 14;
//   ctx.strokeStyle = '#325FA2';
//   ctx.arc(0,0,142,0,Math.PI*2,true);
//   ctx.stroke();

//   ctx.restore();

//   window.requestAnimationFrame(clock);
// }

  function draw() {
    var date = new Date();
    var hour = date.getHours();
    hour = hour >= 12? hour - 12 : hour;
    var munites = date.getMinutes();
    var seconds = date.getSeconds();
    // console.log(hour, munites, seconds);
    let canvas = document.getElementById("clock");
    if (canvas.getContext) {
      var ctx = canvas.getContext("2d");
      ctx.save();
      let startAngle = 0;
      let endAngle = Math.PI * 2;
      ctx.arc(200, 200, 100, startAngle, endAngle, false);
      ctx.fill();
      ctx.fillStyle = "white";
      ctx.beginPath();
      ctx.arc(200, 200, 5, 0, Math.PI * 2, false);
      ctx.fill();
      ctx.translate(200, 200);
      // 秒刻度
      ctx.save();
      for (let i = 1; i <= 60; i++) {
        ctx.rotate(Math.PI * 2 / 60);
        ctx.beginPath();
        ctx.rect(94, 0, 6, 2);
        ctx.fill();

      }
      ctx.restore();
      // 时刻度
      ctx.save();
      for (let i = 1; i <= 12; i++) {

        ctx.rotate(Math.PI * 2 / 12);
        ctx.beginPath();
        ctx.rect(88, 0, 12, 4);
        ctx.fill();

      }
      ctx.restore();
      ctx.lineCap = "round";
      // 时针
     
      ctx.save();
      ctx.strokeStyle = "white";
      ctx.rotate(hour * (Math.PI/6) + munites * (Math.PI/360) + seconds * (Math.PI/21600));
      ctx.lineWidth = 6;
      ctx.beginPath();
      ctx.moveTo(-20, 0);
      ctx.lineTo(50, 0);
      ctx.stroke();
      // console.log(hour * (Math.PI/6) + munites * (Math.PI/360) + seconds * (Math.PI/21600))
      ctx.restore();
      // 分针
      ctx.save();
      ctx.strokeStyle = "rgba(233,33, 11, 0.7)";
      ctx.rotate(munites * (Math.PI/30) + seconds * (Math.PI/1800));
      ctx.lineWidth = 4;
      ctx.beginPath();
      ctx.moveTo(-25, 0);
      ctx.lineTo(70, 0);
      ctx.stroke();
      ctx.restore();
      // 秒针
      ctx.save();
      ctx.strokeStyle = "rgba(243,33, 233, 0.5)";
      ctx.rotate(seconds * (Math.PI/30));
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(-25, 0);
      ctx.lineTo(90, 0);
      ctx.stroke();
      ctx.restore();
      // ctx.restore()
      

    }
    // window.requestAnimationFrame(draw);
  }
</script>

</html>